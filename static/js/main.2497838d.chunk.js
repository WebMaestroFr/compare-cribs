(this["webpackJsonpcompare-cribs"]=this["webpackJsonpcompare-cribs"]||[]).push([[0],{1137:function(e,t,n){"use strict";n.r(t);var a=n(8),r=n.n(a),o=n(115),c=n.n(o),l=(n(516),n(517),n(1140)),u=n(500),i=n.n(u),s=n(506),f=Object(a.createContext)(null),m=function(){return Object(a.useContext)(f)},d=function(){return r.a.createElement("td",{colSpan:3},r.a.createElement("em",null,"Loading..."))},p=n(137),b=n(1141),v=n(1139),E=function(e){var t=e.link,n=m(),o=n.getAttribute,c=n.getOffer,l=Object(a.useState)(),u=Object(p.a)(l,2),i=u[0],s=u[1];Object(a.useEffect)((function(){console.count("FETCHING AND RENDERING OFFER"),c(t).then(s)}),[c,t]);var f="https://www.leboncoin.fr"+t,E=o("square",i),h=null===i||void 0===i?void 0:i.price[0],w=E?Number(h)/Number(E.value):0;return i?r.a.createElement(r.a.Fragment,null,r.a.createElement("td",null,r.a.createElement("a",{className:"OfferRow-link",href:f,rel:"noopener noreferrer",target:"_blank"},r.a.createElement("strong",{className:"OfferRow-subject"},i.subject)),r.a.createElement(b.a,{className:"OfferRow-images",interval:null},i.images.urls.map((function(e,t){return r.a.createElement(b.a.Item,{key:t},r.a.createElement("img",{alt:i.subject,src:e}))}))),r.a.createElement("p",{className:"OfferRow-body"},i.body)),r.a.createElement("td",null,r.a.createElement("div",{className:"OfferRow-value"},r.a.createElement("big",{className:"OfferRow-price"},Number(h).toLocaleString("fr")," ",r.a.createElement("small",null,"\u20ac")),r.a.createElement("span",{className:"OfferRow-separator"},"/"),r.a.createElement("big",{className:"OfferRow-square"},null===E||void 0===E?void 0:E.value," ",r.a.createElement("small",null,"m\xb2"))),r.a.createElement(v.a,{variant:"secondary"},w.toFixed(2)," ",r.a.createElement("small",null,"\u20ac/m\xb2"))),r.a.createElement("td",{className:"OfferRow-attributes"},i.attributes.map((function(e){return r.a.createElement("div",{key:e.key,className:"OfferRow-attribute"},r.a.createElement("small",null,e.key),r.a.createElement(v.a,{variant:"secondary"},e.value_label||e.value))})))):r.a.createElement(d,null)},h=function(){var e=m(),t=e.links,n=e.hasMore,a=e.loadMore,o=r.a.createElement("tr",{key:0},r.a.createElement(d,null));return r.a.createElement(l.a,{className:"OfferTable",striped:!0,bordered:!0,hover:!0},r.a.createElement(i.a,{element:"tbody",loadMore:a,hasMore:n,loader:o},t.map((function(e){var t=r.a.createElement(E,{link:e}),n=r.a.createElement(d,null);return r.a.createElement(s.a,{className:"OfferRow",component:"tr",content:t,key:e,placeholder:n})}))))},w=n(264),O=n(53),g=n.n(O),k=n(263),y=n(262),N=n(505),j=Object(N.setup)({baseURL:"https://www.leboncoin.fr",cache:{maxAge:18e5}}),_=function(e,t){return j.get(e,t).then((function(e){return new y.JSDOM(e.data)}))},R=function(){var e=Object(k.a)(g.a.mark((function e(t){var n,a,r,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.window.document.querySelector("#__NEXT_DATA__"),o=(null===r||void 0===r?void 0:r.textContent)&&JSON.parse(r.textContent),e.abrupt("return",null===o||void 0===o||null===(n=o.props)||void 0===n||null===(a=n.pageProps)||void 0===a?void 0:a.ad);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(k.a)(g.a.mark((function e(t){var n,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Array.from(t.window.document.querySelectorAll('span[name="chevronright"]')).map((function(e){return e.parentNode})).find((function(e){return"A"===(e&&e.nodeName)})),a=Array.from(t.window.document.querySelectorAll('li[data-qa-id="aditem_container"] a')).map((function(e){return e.href})),e.abrupt("return",{links:a,nextPageLink:n?n.href:void 0});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A={getLinks:function(e){return _(e).then(x)},getOffer:function(e){return _(e).then(R)},search:function(e){return _("/recherche",{params:e}).then(x)}},S=function(e){var t=e.children,n=Object(a.useState)(),o=Object(p.a)(n,2),c=o[0],l=o[1],u=Object(a.useState)([]),i=Object(p.a)(u,2),s=i[0],m=i[1];return Object(a.useEffect)((function(){A.search({category:"9",immo_sell_type:"old,new",locations:"Caen_14000__49.18461_-0.37375_4167",price:"75000-175000",real_estate_type:"2",rooms:"3-max",square:"30-max"}).then((function(e){l(e.nextPageLink),m(e.links)}),console.error)}),[]),r.a.createElement(f.Provider,{value:{getAttribute:function(e,t){return null===t||void 0===t?void 0:t.attributes.find((function(t){return t.key===e}))},getOffer:A.getOffer,hasMore:void 0!==c,links:s,loadMore:function(){return c&&A.getLinks(c).then((function(e){l(e.nextPageLink),m((function(t){return[].concat(Object(w.a)(t),Object(w.a)(e.links))}))}))}}},t)};var L=function(){return r.a.createElement(S,null,r.a.createElement(h,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(L,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},315:function(e,t){},511:function(e,t,n){e.exports=n(1137)},516:function(e,t,n){},570:function(e,t){},571:function(e,t){},875:function(e,t){},877:function(e,t){},886:function(e,t){},888:function(e,t){},920:function(e,t){},921:function(e,t){},926:function(e,t){},928:function(e,t){},952:function(e,t){},987:function(e,t){}},[[511,1,2]]]);
//# sourceMappingURL=main.2497838d.chunk.js.map